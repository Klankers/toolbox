<!DOCTYPE html>

<html lang="en" data-content_root="../../../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>toolbox.steps.custom.interpolate_data &#8212; Toolbox 0.0.0a documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/groundwork.css?v=594d7a89" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/sphinx-codeautolink.css?v=b2176991" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <script src="../../../../../_static/documentation_options.js?v=e8454e50"></script>
    <script src="../../../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../../../_static/copybutton.js?v=df1a032d"></script>
    <script src="../../../../../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="canonical" href="https://noc-obg-autonomy.github.io/toolbox/api/toolbox/steps/custom/interpolate_data/index.html" />
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="toolbox.steps.custom.load_data" href="../load_data/index.html" />
    <link rel="prev" title="toolbox.steps.custom.gen_data" href="../gen_data/index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../load_data/index.html" title="toolbox.steps.custom.load_data"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../gen_data/index.html" title="toolbox.steps.custom.gen_data"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../../index.html">Toolbox 0.0.0a documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../../index.html" >API Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../../index.html" >toolbox</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../../index.html" >toolbox.steps</a> &#187;</li>
          <li class="nav-item nav-item-4"><a href="../index.html" accesskey="U">toolbox.steps.custom</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">toolbox.steps.custom.interpolate_data</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-toolbox.steps.custom.interpolate_data">
<span id="toolbox-steps-custom-interpolate-data"></span><h1>toolbox.steps.custom.interpolate_data<a class="headerlink" href="#module-toolbox.steps.custom.interpolate_data" title="Link to this heading">¶</a></h1>
<p>Class definition for deriving CTD variables.</p>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Link to this heading">¶</a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#toolbox.steps.custom.interpolate_data.InterpolateVariables" title="toolbox.steps.custom.interpolate_data.InterpolateVariables"><code class="xref py py-obj docutils literal notranslate"><span class="pre">InterpolateVariables</span></code></a></p></td>
<td><p>A processing step for interpolating data.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="toolbox.steps.custom.interpolate_data.InterpolateVariables">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">toolbox.steps.custom.interpolate_data.</span></span><span class="sig-name descname"><span class="pre">InterpolateVariables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diagnostics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/toolbox/steps/custom/interpolate_data.html#InterpolateVariables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#toolbox.steps.custom.interpolate_data.InterpolateVariables" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../base_step/index.html#toolbox.steps.base_step.BaseStep" title="toolbox.steps.base_step.BaseStep"><code class="xref py py-obj docutils literal notranslate"><span class="pre">toolbox.steps.base_step.BaseStep</span></code></a>, <a class="reference internal" href="../../../utils/qc_handling/index.html#toolbox.utils.qc_handling.QCHandlingMixin" title="toolbox.utils.qc_handling.QCHandlingMixin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">toolbox.utils.qc_handling.QCHandlingMixin</span></code></a></p>
<p>A processing step for interpolating data.</p>
<p>This class processes data to interpolate missing values and fill gaps in
variables using time-based interpolation. It supports quality control
handling and optional diagnostic visualization.</p>
<p>Inherits from BaseStep and processes data stored in the context dictionary.</p>
<dl>
<dt>Example config usage:</dt><dd><ul>
<li><p>name: “Interpolate Data”
parameters:</p>
<blockquote>
<div><dl>
<dt>qc_handling_settings: {</dt><dd><dl class="simple">
<dt>flag_filter_settings: {</dt><dd><p>“PRES”: [3, 4, 9],
“LATITUDE”: [3, 4, 9],
“LONGITUDE”: [3, 4, 9]</p>
</dd>
</dl>
<p>},
reconstruction_behaviour: “replace”,
flag_mapping: { 3: 8, 4: 8, 9: 8 }</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>diagnostics: false</p>
</li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="toolbox.steps.custom.interpolate_data.InterpolateVariables.step_name">
<span class="sig-name descname"><span class="pre">step_name</span></span><a class="reference internal" href="../../../../../_modules/toolbox/steps/custom/interpolate_data.html#InterpolateVariables.step_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#toolbox.steps.custom.interpolate_data.InterpolateVariables.step_name" title="Link to this definition">¶</a></dt>
<dd><p>Identifier for this processing step. Set to “Interpolate Data”.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">step_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Interpolate</span> <span class="pre">Data'</span></em><a class="reference internal" href="../../../../../_modules/toolbox/steps/custom/interpolate_data.html#InterpolateVariables.step_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id0" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="toolbox.steps.custom.interpolate_data.InterpolateVariables.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/toolbox/steps/custom/interpolate_data.html#InterpolateVariables.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#toolbox.steps.custom.interpolate_data.InterpolateVariables.run" title="Link to this definition">¶</a></dt>
<dd><p>Execute the interpolation workflow.</p>
<p>This method performs the following steps:
1. Filters data based on quality control flags
2. Converts xarray data to a Polars DataFrame
3. Interpolates missing values using time as the reference dimension
4. QC and data reconstruction based off of user specification
6. Updates QC flags for interpolated values
7. Generates diagnostic plots if enabled</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The updated context dictionary containing the interpolated dataset
under the “data” key.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="toolbox.steps.custom.interpolate_data.InterpolateVariables.generate_diagnostics">
<span class="sig-name descname"><span class="pre">generate_diagnostics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/toolbox/steps/custom/interpolate_data.html#InterpolateVariables.generate_diagnostics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#toolbox.steps.custom.interpolate_data.InterpolateVariables.generate_diagnostics" title="Link to this definition">¶</a></dt>
<dd><p>Generate diagnostic plots comparing original and interpolated data.</p>
<p>Creates a side-by-side comparison visualization showing the first
variable in filter_settings before and after interpolation.</p>
<p>This method uses the Tkinter backend for interactive display.</p>
</dd></dl>

</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../../../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">toolbox.steps.custom.interpolate_data</a><ul>
<li><a class="reference internal" href="#classes">Classes</a></li>
<li><a class="reference internal" href="#module-contents">Module Contents</a><ul>
<li><a class="reference internal" href="#toolbox.steps.custom.interpolate_data.InterpolateVariables"><code class="docutils literal notranslate"><span class="pre">InterpolateVariables</span></code></a><ul>
<li><a class="reference internal" href="#toolbox.steps.custom.interpolate_data.InterpolateVariables.step_name"><code class="docutils literal notranslate"><span class="pre">InterpolateVariables.step_name</span></code></a></li>
<li><a class="reference internal" href="#id0"><code class="docutils literal notranslate"><span class="pre">InterpolateVariables.step_name</span></code></a></li>
<li><a class="reference internal" href="#toolbox.steps.custom.interpolate_data.InterpolateVariables.run"><code class="docutils literal notranslate"><span class="pre">InterpolateVariables.run()</span></code></a></li>
<li><a class="reference internal" href="#toolbox.steps.custom.interpolate_data.InterpolateVariables.generate_diagnostics"><code class="docutils literal notranslate"><span class="pre">InterpolateVariables.generate_diagnostics()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="../gen_data/index.html"
                          title="previous chapter">toolbox.steps.custom.gen_data</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="../load_data/index.html"
                          title="next chapter">toolbox.steps.custom.load_data</a></p>
  </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../load_data/index.html" title="toolbox.steps.custom.load_data"
             >next</a> |</li>
        <li class="right" >
          <a href="../gen_data/index.html" title="toolbox.steps.custom.gen_data"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../../index.html">Toolbox 0.0.0a documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../../index.html" >API Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../../index.html" >toolbox</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../../index.html" >toolbox.steps</a> &#187;</li>
          <li class="nav-item nav-item-4"><a href="../index.html" >toolbox.steps.custom</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">toolbox.steps.custom.interpolate_data</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2025, Adam Ward, National Oceanography Centre.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>